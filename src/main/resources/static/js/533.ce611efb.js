"use strict";(self["webpackChunkvue_edusystem"]=self["webpackChunkvue_edusystem"]||[]).push([[533],{2533:function(e,r,s){s.r(r),s.d(r,{default:function(){return m}});var t=function(){var e=this,r=e._self._c;return r("div",{staticClass:"login-container"},[r("el-card",{staticClass:"box-card",scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"card-header"},[r("span",[e._v("教师登录")])]),r("router-link",{staticClass:"custom-button",attrs:{tag:"button",to:"/studentLogin"}},[e._v("学生登录")]),r("br"),r("br"),r("router-link",{staticClass:"custom-button",attrs:{tag:"button",to:"/leaderLogin"}},[e._v("教务处登录")])]},proxy:!0}])},[r("el-form",{ref:"loginForm",attrs:{model:e.form,rules:e.rules,"label-width":"80px","status-icon":""}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.form.username,callback:function(r){e.$set(e.form,"username",r)},expression:"form.username"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:"password",placeholder:"请输入密码","show-password":""},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.handleLogin}},[e._v("登录")]),r("el-button",{on:{click:e.resetForm}},[e._v("重置")])],1)],1),e.error?r("div",{staticClass:"error-message"},[e._v(e._s(e.error))]):e._e()],1)],1)},a=[],o=(s(4114),s(4373)),n={data(){return{form:{username:"",password:""},teacherID:"",rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}]},error:""}},methods:{handleLogin(){this.$refs.loginForm.validate((async e=>{if(!e)return console.log("验证失败"),!1;try{o.A.post("/api/teacherLogin",this.form).then((e=>{1==e.data.code?(this.open2(),sessionStorage.setItem("teacherID",e.data.data),this.$router.push("/teacher")):this.open4()}))}catch(r){this.error="服务器连接失败，请稍后再试",console.error("登录请求失败:",r)}}))},resetForm(){this.$refs.loginForm.resetFields(),this.error=""},open2(){this.$message({message:"恭喜你，登录成功！",type:"success"})},open3(){this.$message({message:"警告哦，这是一条警告消息",type:"warning"})},open4(){this.$message.error("登录失败，请检查用户名与密码！")}}},i=n,l=s(1656),u=(0,l.A)(i,t,a,!1,null,"7bc4a887",null),m=u.exports}}]);
//# sourceMappingURL=533.ce611efb.js.map