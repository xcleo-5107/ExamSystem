"use strict";(self["webpackChunkvue_edusystem"]=self["webpackChunkvue_edusystem"]||[]).push([[164],{3164:function(e,t,a){a.r(t),a.d(t,{default:function(){return u}});var s=function(){var e=this,t=e._self._c;return t("el-container",{staticStyle:{height:"100vh",border:"1px solid #eee"}},[t("el-header",{staticClass:"el-icon-s-home",staticStyle:{"font-size":"40px","background-color":"#409EFF",color:"azure"}},[e._v(" 阅卷系统 ")]),t("el-container",[t("el-main",[e.data.length>0?t("div",[t("el-tabs",{attrs:{type:"card"},model:{value:e.activeSheet,callback:function(t){e.activeSheet=t},expression:"activeSheet"}},e._l(e.data,(function(a){return t("el-tab-pane",{key:a.sheetNum,attrs:{label:"学生 "+a.studentId,name:a.sheetNum.toString()}},[e._l(a.answerSheetDetails,(function(s){return t("div",{key:s.detailId,staticStyle:{"margin-bottom":"20px"}},[t("el-card",[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("题目 "+e._s(s.moduleExercise.exerciseInModuleNum))]),t("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(t){return e.calculateTotalScore(a)}}},[e._v("计算总分")])],1),t("p",[t("strong",[e._v("题目描述:")]),e._v(" "+e._s(s.moduleExercise.exercise?.exerciseInfo))]),t("p",[t("strong",[e._v("题目选项:")]),e._v(" "+e._s(s.moduleExercise.exercise?.exerciseProblem))]),t("p",[t("strong",[e._v("学生答案:")]),e._v(" "+e._s(s.answer))]),t("p",[t("strong",[e._v("正确答案:")]),e._v(" "+e._s(s.moduleExercise.exercise?.exerciseAnswer))]),t("p",[t("strong",[e._v("评分:")]),t("el-input-number",{attrs:{min:0,max:10},on:{change:function(t){return e.handleScoreChange(s.score,s.detailId,a)}},model:{value:s.score,callback:function(t){e.$set(s,"score",t)},expression:"detail.score"}})],1)])],1)})),t("p",[e._v("总分: "+e._s(a.totalScore))])],2)})),1)],1):e._e()])],1)],1)},r=[],n=(a(8992),a(2577),a(4373)),c={props:{id:Number},data(){return{activeSheet:"1",data:[],exerciseTypes:[{typeNum:1,typeName:"选择题"},{typeNum:2,typeName:"填空题"},{typeNum:3,typeName:"简答题"}]}},mounted(){this.getAll()},methods:{getAll(){n.A.get(`/api/AnswerSheet/examScheme/${this.id}`).then((e=>{1==e.data.code&&null!=e.data.data?(this.data=e.data.data,this.open2()):this.open3()})).catch((e=>{console.err("查询失败:",e)}))},saveScore(e,t){n.A.put(`/api/AnswerSheet/detailId/${t}/score/${e}`).then((e=>{1==e.data.code&&this.open2()}))},handleScoreChange(e,t,a){this.saveScore(e,t),this.calculateTotalScore(a)},calculateTotalScore(e){let t=0;for(let a of e.answerSheetDetails)null!==a.score&&(t+=a.score);e.totalScore=t},getExerciseTypeName(e){const t=this.exerciseTypes.find((t=>t.typeNum===e));return t?t.typeName:"未知题型"},goBack(){this.$router.back()},open2(){this.$message({message:"恭喜你，这是一条成功消息",type:"success"})},open3(){this.$message({message:"警告哦，这是一条警告消息",type:"warning"})}}},o=c,l=a(1656),i=(0,l.A)(o,s,r,!1,null,"60a94288",null),u=i.exports}}]);
//# sourceMappingURL=164.561012c5.js.map