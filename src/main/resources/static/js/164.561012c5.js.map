{"version":3,"file":"js/164.561012c5.js","mappings":"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","sources":["webpack://vue-edusystem/./src/views/teacherView/grading/gradingView.vue","webpack://vue-edusystem/src/views/teacherView/grading/gradingView.vue","webpack://vue-edusystem/./src/views/teacherView/grading/gradingView.vue?cc11","webpack://vue-edusystem/./src/views/teacherView/grading/gradingView.vue?69ea"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-container',{staticStyle:{\"height\":\"100vh\",\"border\":\"1px solid #eee\"}},[_c('el-header',{staticClass:\"el-icon-s-home\",staticStyle:{\"font-size\":\"40px\",\"background-color\":\"#409EFF\",\"color\":\"azure\"}},[_vm._v(\" 阅卷系统 \")]),_c('el-container',[_c('el-main',[(_vm.data.length > 0)?_c('div',[_c('el-tabs',{attrs:{\"type\":\"card\"},model:{value:(_vm.activeSheet),callback:function ($$v) {_vm.activeSheet=$$v},expression:\"activeSheet\"}},_vm._l((_vm.data),function(sheet){return _c('el-tab-pane',{key:sheet.sheetNum,attrs:{\"label\":'学生 ' + sheet.studentId,\"name\":sheet.sheetNum.toString()}},[_vm._l((sheet.answerSheetDetails),function(detail){return _c('div',{key:detail.detailId,staticStyle:{\"margin-bottom\":\"20px\"}},[_c('el-card',[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"题目 \"+_vm._s(detail.moduleExercise.exerciseInModuleNum))]),_c('el-button',{staticStyle:{\"float\":\"right\",\"padding\":\"3px 0\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.calculateTotalScore(sheet)}}},[_vm._v(\"计算总分\")])],1),_c('p',[_c('strong',[_vm._v(\"题目描述:\")]),_vm._v(\" \"+_vm._s(detail.moduleExercise.exercise?.exerciseInfo))]),_c('p',[_c('strong',[_vm._v(\"题目选项:\")]),_vm._v(\" \"+_vm._s(detail.moduleExercise.exercise?.exerciseProblem))]),_c('p',[_c('strong',[_vm._v(\"学生答案:\")]),_vm._v(\" \"+_vm._s(detail.answer))]),_c('p',[_c('strong',[_vm._v(\"正确答案:\")]),_vm._v(\" \"+_vm._s(detail.moduleExercise.exercise?.exerciseAnswer))]),_c('p',[_c('strong',[_vm._v(\"评分:\")]),_c('el-input-number',{attrs:{\"min\":0,\"max\":10},on:{\"change\":function($event){return _vm.handleScoreChange(detail.score, detail.detailId, sheet)}},model:{value:(detail.score),callback:function ($$v) {_vm.$set(detail, \"score\", $$v)},expression:\"detail.score\"}})],1)])],1)}),_c('p',[_vm._v(\"总分: \"+_vm._s(sheet.totalScore))])],2)}),1)],1):_vm._e()])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-container style=\"height: 100vh; border: 1px solid #eee\">\r\n    <el-header class=\"el-icon-s-home\" style=\"font-size: 40px; background-color:#409EFF; color:azure\">\r\n      阅卷系统\r\n    </el-header>\r\n\r\n    <el-container>\r\n      <!-- 左边：题目详情 -->\r\n      <el-main >\r\n  <div v-if=\"data.length > 0\">\r\n    <el-tabs v-model=\"activeSheet\" type=\"card\">\r\n      <el-tab-pane :label=\"'学生 ' + sheet.studentId\" :name=\"sheet.sheetNum.toString()\" v-for=\"sheet in data\" :key=\"sheet.sheetNum\">\r\n        <div v-for=\"detail in sheet.answerSheetDetails\" :key=\"detail.detailId\" style=\"margin-bottom: 20px;\">\r\n          <el-card>\r\n            <div slot=\"header\" class=\"clearfix\">\r\n              <span>题目 {{ detail.moduleExercise.exerciseInModuleNum }}</span>\r\n              <el-button style=\"float: right; padding: 3px 0\" type=\"text\" @click=\"calculateTotalScore(sheet)\">计算总分</el-button>\r\n            </div>\r\n            <p><strong>题目描述:</strong> {{ detail.moduleExercise.exercise?.exerciseInfo }}</p>\r\n            <p><strong>题目选项:</strong> {{ detail.moduleExercise.exercise?.exerciseProblem }}</p>\r\n            <p><strong>学生答案:</strong> {{ detail.answer }}</p>\r\n            <p><strong>正确答案:</strong> {{ detail.moduleExercise.exercise?.exerciseAnswer }}</p>\r\n            <p>\r\n              <strong>评分:</strong>\r\n              <el-input-number v-model=\"detail.score\" :min=\"0\" :max=\"10\" @change=\"handleScoreChange(detail.score, detail.detailId, sheet)\"></el-input-number>\r\n            </p>\r\n          </el-card>\r\n        </div>\r\n        <p>总分: {{ sheet.totalScore }}</p>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n  </div>\r\n      </el-main>\r\n\r\n\r\n    </el-container>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  props: { id: Number },\r\n  data() {\r\n    return {\r\n      activeSheet: '1',\r\n      // 测试数据：模拟的题目列表\r\n      data: [], // 初始值为 null\r\n      exerciseTypes: [\r\n        { typeNum: 1, typeName: '选择题' },\r\n        { typeNum: 2, typeName: '填空题' },\r\n        { typeNum: 3, typeName: '简答题' },\r\n        // 根据实际需求添加更多题型\r\n      ],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getAll();\r\n\r\n  },\r\n  methods: {\r\n    //获取试卷信息\r\n    getAll() {\r\n      axios.get(`/api/AnswerSheet/examScheme/${this.id}`).then((result) => {\r\n        if (result.data.code==1&&result.data.data!=null) {\r\n          this.data = result.data.data;\r\n          this.open2();\r\n        }else{\r\n          this.open3();\r\n        }\r\n      }).catch((err) => {\r\n        console.err('查询失败:', err);\r\n\r\n      });\r\n\r\n    },\r\n    //提交分数\r\n    saveScore(score,detailId){\r\n      axios.put(`/api/AnswerSheet/detailId/${detailId}/score/${score}`).then((result) => {\r\n        if(result.data.code==1){\r\n          this.open2();\r\n        }\r\n      });\r\n\r\n    },\r\n    handleScoreChange(score,detailId, sheet) {\r\n      // 当评分改变时触发\r\n      // console.log('评分改变了:', index, detail);\r\n      this.saveScore(score,detailId);\r\n      this.calculateTotalScore(sheet); // 每次评分变化后自动计算总分\r\n    },\r\n    calculateTotalScore(sheet) {\r\n      let total = 0;\r\n      for (let detail of sheet.answerSheetDetails) {\r\n        if (detail.score !== null) {\r\n          total += detail.score;\r\n        }\r\n      }\r\n      sheet.totalScore = total;\r\n    },\r\n  \r\n\r\n    getExerciseTypeName(typeNum) {\r\n      const type = this.exerciseTypes.find(t => t.typeNum === typeNum);\r\n      return type ? type.typeName : '未知题型';\r\n    },\r\n\r\n    // 返回上一页\r\n    goBack() {\r\n      this.$router.back();\r\n    },\r\n    //成功提示\r\n    open2() {\r\n            this.$message({\r\n                message: '恭喜你，这是一条成功消息',\r\n                type: 'success'\r\n            });\r\n        },\r\n        //错误提示\r\n        open3() {\r\n            this.$message({\r\n                message: '警告哦，这是一条警告消息',\r\n                type: 'warning'\r\n            });\r\n        },\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.el-container {\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.el-header,\r\n.el-footer {\r\n  flex: 0 0 auto;\r\n  background-color: #409EFF;\r\n  color: azure;\r\n  padding: 10px;\r\n}\r\n\r\n.el-main {\r\n  flex: 1 1 auto;\r\n  overflow-y: auto;\r\n  padding: 20px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.el-aside {\r\n  overflow-y: auto;\r\n  padding: 10px;\r\n}\r\n\r\n.exam-detail {\r\n  width: 100%;\r\n  padding: 10px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.box-card {\r\n  max-height: 70vh;\r\n  overflow-y: auto;\r\n  padding: 20px;\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.card-header {\r\n  font-weight: bold;\r\n}\r\n\r\n.question-content {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  margin-bottom: 20px;\r\n  padding: 10px;\r\n  border: 1px solid #ddd;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.el-menu-item {\r\n  padding: 10px 20px;\r\n}\r\n\r\n.el-tag {\r\n  margin-left: 10px;\r\n\r\n}\r\n\r\n.clearfix:before,\r\n.clearfix:after {\r\n  display: table;\r\n  content: \"\";\r\n}\r\n.clearfix:after {\r\n  clear: both;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./gradingView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./gradingView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./gradingView.vue?vue&type=template&id=60a94288&scoped=true\"\nimport script from \"./gradingView.vue?vue&type=script&lang=js\"\nexport * from \"./gradingView.vue?vue&type=script&lang=js\"\nimport style0 from \"./gradingView.vue?vue&type=style&index=0&id=60a94288&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"60a94288\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticStyle","staticClass","_v","data","length","attrs","model","value","activeSheet","callback","$$v","expression","_l","sheet","key","sheetNum","studentId","toString","answerSheetDetails","detail","detailId","slot","_s","moduleExercise","exerciseInModuleNum","on","$event","calculateTotalScore","exercise","exerciseInfo","exerciseProblem","answer","exerciseAnswer","handleScoreChange","score","$set","totalScore","_e","staticRenderFns","props","id","Number","exerciseTypes","typeNum","typeName","mounted","getAll","methods","axios","get","then","result","code","open2","open3","catch","err","console","saveScore","put","total","getExerciseTypeName","type","find","t","goBack","$router","back","$message","message","component"],"sourceRoot":""}